<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>WebChecker - Accessibility Analyzer</title>
  <link rel="stylesheet" href="/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    #toast {
      visibility: hidden;
      min-width: 250px;
      background-color: #004080;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 14px;
      position: fixed;
      z-index: 1;
      left: 50%;
      bottom: 30px;
      transform: translateX(-50%);
      font-size: 16px;
    }

    #toast.show {
      visibility: visible;
      animation: fadein 0.5s, fadeout 0.5s 2.5s;
    }

    @keyframes fadein {
      from {
        bottom: 10px;
        opacity: 0;
      }

      to {
        bottom: 30px;
        opacity: 1;
      }
    }

    @keyframes fadeout {
      from {
        bottom: 30px;
        opacity: 1;
      }

      to {
        bottom: 10px;
        opacity: 0;
      }
    }
  </style>
  <script>
    function refreshPage() {
      window.location.href = "/";
    }
  </script>
</head>

<body>
  <header>
    <div class="nav">
      <span class="logo-text">
        WEBCHECKER
      </span>
      <button id="theme-toggle" style="margin-left:20px; background:none; border:none; cursor:pointer; font-size:1.3rem;" aria-label="Toggle theme">üåô</button>
      <nav>
        <a href="/domains">Domains & SSL</a>
        <a href="/websites">Websites</a>
        <a href="/ecommerce">eCommerce</a>
        <a href="/hosting">Hosting</a>
        <a href="/wordpress">WordPress</a>
        <a href="/email-office">Email & Office</a>
        <a href="/servers">Servers</a>
        <a href="/more">More</a>
      </nav>
    </div>
    <div class="header-content">
      <h1>Website Checker</h1>
      <ul style="text-align:center; list-style: none; padding: 0;">
        <li style="display: inline-block; margin: 0 10px;">‚úÖ 100% free online service</li>
        <li style="display: inline-block; margin: 0 10px;">‚úÖ Test multiple aspects of your website</li>
      </ul>
      <div class="form-box">
        <form method="POST" action="/">
          <input type="text" name="url" placeholder="Enter your web address" required />
          <button type="submit">Check Website</button>
          <button type="button" onclick="refreshPage()">üîÅ Refresh</button>
        </form>
      </div>
    </div>
  </header>

  <main class="container">
    <h2>Is your website fully optimized?</h2>

    <% if (Array.isArray(results) && results.length> 0) { %>
      <h3>Accessibility Issues & Solutions</h3>
      <div class="grid">
        <div class="column">
          <h4>‚ö†Ô∏è Issues</h4>
          <% results.forEach(function(issue, index) { %>
            <div class="issue">
              <strong>
                <%= index + 1 %>.
              </strong>
              <%= issue.replace(/<[^>]*>?/gm, '') %>
            </div>
          <% }); %>
        </div>
        <div class="column">
          <h4>‚úÖ Suggested Solutions</h4>
          <% results.forEach(function(issue, index) { %>
            <div class="issue">
              <strong>
                <%= index + 1 %>.
              </strong>
              <% if (issue.includes("Link without href")) { %>
                This link doesn't lead anywhere. Please add a proper destination using the href attribute.
              <% } else if (issue.includes("Input missing label")) { %>
                A form field is missing a label. Add a clear label so users know what to enter.
              <% } else { %>
                This issue might affect accessibility. Refer to W3C accessibility standards for guidance.
              <% } %>
            </div>
          <% }); %>
        </div>
      </div>
    <% } else if (Array.isArray(results)) { %>
      <div class="no-issues">No major accessibility issues found ‚úÖ</div>
    <% } %>

    <div style="text-align:center; margin-top: 20px;">
      <button onclick="window.print()">üñ∞ Export as PDF</button>
      <button onclick="copyResults()">üìã Copy Results</button>
    </div>
  </main>

  <footer>
    <div class="footer-content">
      <p>üìß Email: <a href="mailto:shubhamchaurasiya095@gmail.com">shubhamchaurasiya095@gmail.com</a></p>
      <p>üìû Contact: <a href="tel:+917752993275">+91-7752993275</a></p>
      <p>
        <img src="https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/linkedin.svg" alt="LinkedIn" class="icon"
          style="height: 20px; vertical-align: middle; margin-right: 5px;" />
        <a href="https://www.linkedin.com/in/shubham-chaurasiya-5a64812b2/" target="_blank">LinkedIn Profile</a>
      </p>
      <p>¬© 2025 WebChecker. All rights reserved.</p>
    </div>
  </footer>

  <div id="toast">Website Checked Successfully!</div>
  <script>
    const form = document.querySelector("form");
    form.addEventListener("submit", () => {
      setTimeout(() => {
        const toast = document.getElementById("toast");
        toast.className = "show";
        setTimeout(() => { toast.className = toast.className.replace("show", ""); }, 3000);
      }, 200);
    });

    function copyResults() {
      const text = Array.from(document.querySelectorAll('.issue')).map(el => el.innerText).join('\n\n');
      navigator.clipboard.writeText(text).then(() => {
        alert("Results copied to clipboard!");
      });
    }

    // Theme toggle
    const themeToggle = document.getElementById('theme-toggle');
    themeToggle.addEventListener('click', function() {
      document.body.classList.toggle('dark-theme');
      if(document.body.classList.contains('dark-theme')) {
        themeToggle.textContent = '‚òÄÔ∏è';
        themeToggle.setAttribute('aria-label', 'Switch to light theme');
      } else {
        themeToggle.textContent = 'üåô';
        themeToggle.setAttribute('aria-label', 'Switch to dark theme');
      }
    });
  </script>
</body>

</html>